<!DOCTYPE html>
<html>
<head>
    <title>Upload Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mini.css/3.0.1/mini-default.min.css">
</head>
<body>
    <h2>Upload Document</h2>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, msg in messages %}
          <p style="color: {% if category=='danger' %}red{% else %}green{% endif %}">{{ msg }}</p>
        {% endfor %}
      {% endif %}
    {% endwith %}
    <form method="POST" enctype="multipart/form-data">
        <label>Title:</label>
        <input type="text" name="title" required>
        <label>Date:</label>
        <input type="date" name="date" required>
        <label>File:</label>
        <input type="file" name="file" required>
        <button type="submit">Upload</button>
    </form>
    <h3>Your Uploaded Documents</h3>
    {% for doc in docs %}
        <p>
            <strong>{{ doc.title }}</strong> ({{ doc.date }}) -
            <a href="{{ url_for('get_document', filename=doc.filename) }}">View/Download</a>
        </p>
    {% else %}
        <p>No documents uploaded yet.</p>
    {% endfor %}
</body>
</html>
